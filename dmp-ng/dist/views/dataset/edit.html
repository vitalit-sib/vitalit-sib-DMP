<!--
/************************ LICENCE ***************************
*     This file is part of <DMP Canvas Generator web application>
*     Copyright (C) <2016> SIB Swiss Institute of Bioinformatics
*
*     This program is free software: you can redistribute it and/or modify
*     it under the terms of the GNU Affero General Public License as
*     published by the Free Software Foundation, either version 3 of the
*     License, or (at your option) any later version.
*
*     This program is distributed in the hope that it will be useful,
*     but WITHOUT ANY WARRANTY; without even the implied warranty of
*     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*     GNU Affero General Public License for more details.
*
*     You should have received a copy of the GNU Affero General Public License
*    along with this program.  If not, see <http://www.gnu.org/licenses/>
*
*****************************************************************/
--> <div class="container"> <h3>Datasets of {{vm.project.name}}</h3> <form novalidate name="formExperiment" ng-submit="vm.submitExperiment()" class="form-horizontal"> <div class="panel panel-default"> <div class="panel-heading"> <div class="panel-title"> <span ng-if="vm.dataset.dataset_id === -1">New dataset</span> <span ng-if="vm.dataset.dataset_id > -1">{{vm.dataset.name}}</span> </div> </div> <div class="panel-body"> <fieldset> <legend>Name and description</legend> <div class="form-group"> <label for="name" class="col-sm-3 control-label">Name</label> <div class="col-sm-9"> <input type="text" class="form-control" id="name" ng-model="vm.dataset.name" placeholder="Experiment name" required> </div> </div> <div class="form-group"> <label for="description" class="col-sm-3 control-label">Description</label> <div class="col-sm-9"> <textarea name="description" ng-model="vm.dataset.description" class="form-control" rows="5" placeholder="Experiment description"></textarea> </div> </div> </fieldset> <fieldset> <legend>Ownership and permissions</legend> <div class="form-group"> <label for="user" class="col-sm-3 control-label">Owner</label> <div class="col-sm-9"> <p class="form-control-static" name="user">{{vm.dataset.user_name}}</p> </div> </div> <div class="form-group"> <label for="group" class="col-sm-3 control-label">Group</label> <div class="col-sm-4"> <p ng-if="vm.groups.length == 1" class="form-control-static" name="group">{{vm.dataset.group_name}}</p> <select name="group" class="form-control" ng-options="group.group_id as group.name for group in vm.groups" ng-model="vm.dataset.group_id" ng-if="vm.groups.length > 1"></select> </div> <label for="group_permission" class="col-sm-2 control-label">Permission</label> <div class="col-sm-3"> <select name="group_permission" ng-model="vm.dataset.group_permissions" ng-options="permission.id as permission.name for permission in vm.permissions" class="form-control"></select> </div> </div> <div class="form-group"> <label for="project" class="col-sm-3 control-label">Project</label> <div class="col-sm-4"> <p class="form-control-static" name="project">{{vm.dataset.project_name}}</p> </div> <label for="project_permission" class="col-sm-2 control-label">Permission</label> <div class="col-sm-3"> <select name="project_permission" ng-model="vm.dataset.project_permissions" ng-options="permission.id as permission.name for permission in vm.permissions" class="form-control"></select> </div> </div> <div class="form-group"> <label for="public" class="col-sm-3 control-label">Guest</label> <div class="col-sm-4"> <p class="form-control-static" name="project"></p> </div> <label for="public_permission" class="col-sm-2 control-label">Permission</label> <div class="col-sm-3"> <select name="public_permission" ng-model="vm.dataset.public_permissions" ng-options="permission.id as permission.name for permission in vm.permissions" class="form-control"></select> </div> </div> <div class="form-group"> <label for="download" class="col-sm-3 control-label">File downloads</label> <div class="col-sm-9"> <select name="download" ng-model="vm.dataset.request_download" class="form-control"> <option value="Y">only upon request and acceptance by file owner <option value="N">immediate download </select> </div> </div> </fieldset> </div> <div class="panel-footer"> <div class="row"> <div class="col-sm-10 col-sm-offset-2"> <button type="submit" class="btn btn-success" ng-disabled="formExperiment.$invalid">Submit</button> <a ng-href="{{(vm.dataset.dataset_id == -1)?'#/datasets':'#/dataset/'+vm.dataset.dataset_id}}" class="btn btn-link">Cancel</a> </div> </div> </div> </div> </form> </div>